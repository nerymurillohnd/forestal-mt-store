---
/**
 * COMMUNITY — Hub page.
 * Links to FAQs, Blog, Docs, and Testimonials subpages.
 */
import BaseLayout from "../../layouts/BaseLayout.astro";
import Head from "../../components/Head.astro";
import Breadcrumb from "../../components/Breadcrumb.astro";
import Hero from "../../components/Hero.astro";
import SectionHeader from "../../components/SectionHeader.astro";
import TrustMarquee from "../../components/TrustMarquee.astro";
import CollectionNav from "../../components/CollectionNav.astro";
import { getEntry } from "astro:content";

const page = await getEntry("pages", "community");
if (!page) throw new Error("Missing content: pages/community");
const { data } = page;

const sections = [
  {
    title: "FAQs",
    eyebrow: "Products · Shipping · Wholesale",
    description:
      "Clear answers on Batana Oil, stingless bee honey, traditional herbs, ordering, shipping terms, and authenticity.",
    href: "/community/faqs/",
    icon: "faq",
  },
  {
    title: "Blog & Stories",
    eyebrow: "Origin · People · Process",
    description:
      "Articles on Honduran botanicals, indigenous knowledge, sustainable harvesting, and the journey from forest to global markets.",
    href: "/community/blog/",
    icon: "blog",
  },
  {
    title: "Documentation",
    eyebrow: "TDS · SDS · COA",
    description:
      "Technical Data Sheets, Safety Data Sheets, and Certificates of Analysis for importers, formulators, and compliance teams.",
    href: "/community/docs/",
    icon: "docs",
  },
  {
    title: "Testimonials",
    eyebrow: "Customers · Brands · Distributors",
    description:
      "Verified reviews from retail customers and wholesale partners across North America, Europe, and Asia.",
    href: "/community/testimonials/",
    icon: "reviews",
  },
];
---

<BaseLayout>
  <Head
    slot="head"
    title={data.title}
    description={data.description}
    canonicalUrl={data.canonicalUrl}
    pageName={data.pageName}
    og={data.og}
    twitter={data.twitter}
    schemas={data.schemas}
  />

  <Hero
    background={data.hero.background}
    eyebrow={data.hero.eyebrow}
    title={data.hero.title}
    subtitle={data.hero.subtitle}
    description={data.hero.description}
    ctas={data.hero.ctas}
  />

  <Breadcrumb pageName={data.pageName} />

  {/* ── INTRO ── */}
  <section class="surface-warm py-20">
    <div class="mx-auto max-w-3xl px-6 text-center lg:px-12">
      <SectionHeader eyebrow="Where Customers Belong" heading="Our Community Hub" />
      <p
        class="reveal-on-scroll mt-8 font-[family-name:var(--font-body)] text-[15px] leading-[1.85] text-[#333]/70"
      >
        This is where we share knowledge, answer questions, and connect with the people who care
        about origin-true botanicals. Whether you're a first-time buyer, a seasoned formulator, or a
        curious explorer — everything you need is here.
      </p>
    </div>
  </section>

  {/* ── SECTION CARDS ── */}
  <section class="surface-parchment py-20">
    <div class="mx-auto max-w-7xl px-6 lg:px-12">
      <div class="stagger-children grid grid-cols-1 gap-6 sm:grid-cols-2">
        {
          sections.map((section) => (
            <a
              href={section.href}
              class="card-hover group border-t-[3px] border-[#F3C00D]/50 bg-white p-8 shadow-[0_1px_3px_rgba(0,0,0,0.04)]"
            >
              {/* Icon */}
              <div class="flex h-11 w-11 items-center justify-center rounded-full bg-[#206D03]/[0.07]">
                {section.icon === "faq" && (
                  <svg
                    class="h-5 w-5 text-[#206D03]"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                    stroke-width="1.5"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"
                    />
                  </svg>
                )}
                {section.icon === "blog" && (
                  <svg
                    class="h-5 w-5 text-[#206D03]"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                    stroke-width="1.5"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125V18a2.25 2.25 0 0 1-2.25 2.25M16.5 7.5V18a2.25 2.25 0 0 0 2.25 2.25M16.5 7.5V4.875c0-.621-.504-1.125-1.125-1.125H4.125C3.504 3.75 3 4.254 3 4.875V18a2.25 2.25 0 0 0 2.25 2.25h13.5M6 7.5h3v3H6v-3Z"
                    />
                  </svg>
                )}
                {section.icon === "docs" && (
                  <svg
                    class="h-5 w-5 text-[#206D03]"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                    stroke-width="1.5"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"
                    />
                  </svg>
                )}
                {section.icon === "reviews" && (
                  <svg
                    class="h-5 w-5 text-[#206D03]"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                    stroke-width="1.5"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.563.563 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"
                    />
                  </svg>
                )}
              </div>

              <p class="mt-5 font-[family-name:var(--font-heading)] text-[9px] font-normal uppercase tracking-[0.3em] text-[#A18500]">
                {section.eyebrow}
              </p>
              <h2 class="mt-2 font-[family-name:var(--font-heading)] text-[1.2rem] font-normal text-charcoal transition-colors duration-200 group-hover:text-[#206D03]">
                {section.title}
              </h2>
              <div class="mt-3 h-px w-8 bg-[#F3C00D]/30" />
              <p class="mt-4 font-[family-name:var(--font-body)] text-[13.5px] leading-[1.85] text-[#333]/60">
                {section.description}
              </p>
              <span class="mt-6 inline-flex items-center gap-2 font-[family-name:var(--font-ui)] text-[11px] font-semibold uppercase tracking-[0.15em] text-[#206D03] transition-colors group-hover:text-[#54B006]">
                Explore
                <svg
                  class="h-3 w-3 transition-transform duration-300 group-hover:translate-x-1"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"
                  />
                </svg>
              </span>
            </a>
          ))
        }
      </div>
    </div>
  </section>

  <TrustMarquee />

  {/* ── CTA ── */}
  <section class="surface-dark grain relative overflow-hidden py-16">
    <div class="reveal-on-scroll relative z-10 mx-auto max-w-2xl px-6 text-center lg:px-12">
      <p
        class="font-[family-name:var(--font-heading)] text-[11px] font-normal uppercase tracking-[0.35em] text-[#F3C00D]/70"
      >
        Ready to Order?
      </p>
      <h2
        class="mt-4 font-[family-name:var(--font-display)] text-[clamp(1.6rem,3vw,2.2rem)] font-normal text-white"
      >
        The Products Are Waiting
      </h2>
      <hr class="gold-rule" />
      <div class="mt-8 flex flex-wrap items-center justify-center gap-4">
        <a
          href="/products/"
          class="inline-block rounded-[3px] bg-[#F3C00D] px-7 py-3 font-[family-name:var(--font-ui)] text-[13px] font-semibold text-[#333] transition-all duration-300 hover:bg-[#F3C00D]/90"
        >
          Shop Now
        </a>
        <a
          href="/contact/"
          class="inline-block rounded-[3px] border border-white/20 px-7 py-3 font-[family-name:var(--font-ui)] text-[13px] font-semibold text-white/80 transition-all duration-300 hover:border-white/40 hover:text-white"
        >
          Get in Touch
        </a>
      </div>
    </div>
  </section>

  <CollectionNav />
</BaseLayout>
